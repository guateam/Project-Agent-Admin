{"remainingRequest":"D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\node_modules\\babel-loader\\lib\\index.js!D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\src\\layouts\\HeaderAside\\components\\tabs\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\src\\layouts\\HeaderAside\\components\\tabs\\index.vue","mtime":1547729631526},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1547717212861},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1547717208828},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1547717212861},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1547717286390}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.find\";\nimport _objectSpread from \"D:\\\\phpStudy\\\\PHPTutorial\\\\WWW\\\\Project-Agent-Admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState, mapActions } from 'vuex';\nexport default {\n  components: {\n    D2Contextmenu: function D2Contextmenu() {\n      return import('../contextmenu');\n    },\n    D2ContextmenuList: function D2ContextmenuList() {\n      return import('../contextmenu/components/contentmenuList');\n    }\n  },\n  data: function data() {\n    return {\n      contextmenuFlag: false,\n      contentmenuX: 0,\n      contentmenuY: 0,\n      contextmenuListIndex: [{\n        icon: 'times-circle',\n        title: '关闭全部',\n        value: 'all'\n      }],\n      contextmenuList: [{\n        icon: 'arrow-left',\n        title: '关闭左侧',\n        value: 'left'\n      }, {\n        icon: 'arrow-right',\n        title: '关闭右侧',\n        value: 'right'\n      }, {\n        icon: 'times',\n        title: '关闭其它',\n        value: 'other'\n      }, {\n        icon: 'times-circle',\n        title: '关闭全部',\n        value: 'all'\n      }],\n      tagName: 'index'\n    };\n  },\n  computed: _objectSpread({}, mapState('d2admin/page', ['opened', 'current'])),\n  methods: _objectSpread({}, mapActions('d2admin/page', ['close', 'closeLeft', 'closeRight', 'closeOther', 'closeAll']), {\n    /**\r\n     * @description 右键菜单功能点击\r\n     */\n    handleContextmenu: function handleContextmenu(event) {\n      var target = event.target; // 解决 https://github.com/d2-projects/d2-admin/issues/54\n\n      var flag = false;\n      if (target.className.indexOf('el-tabs__item') > -1) flag = true;else if (target.parentNode.className.indexOf('el-tabs__item') > -1) {\n        target = target.parentNode;\n        flag = true;\n      }\n\n      if (flag) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.contentmenuX = event.clientX;\n        this.contentmenuY = event.clientY;\n        this.tagName = target.getAttribute('aria-controls').slice(5);\n        this.contextmenuFlag = true;\n      }\n    },\n\n    /**\r\n     * @description 右键菜单的row-click事件\r\n     */\n    contextmenuClick: function contextmenuClick(command) {\n      this.handleControlItemClick(command, this.tagName);\n    },\n\n    /**\r\n     * @description 接收点击关闭控制上选项的事件\r\n     */\n    handleControlItemClick: function handleControlItemClick(command) {\n      var tagName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if (tagName) {\n        this.contextmenuFlag = false;\n      }\n\n      var params = {\n        pageSelect: tagName,\n        vm: this\n      };\n\n      switch (command) {\n        case 'left':\n          this.closeLeft(params);\n          break;\n\n        case 'right':\n          this.closeRight(params);\n          break;\n\n        case 'other':\n          this.closeOther(params);\n          break;\n\n        case 'all':\n          this.closeAll(this);\n          break;\n\n        default:\n          this.$message.error('无效的操作');\n          break;\n      }\n    },\n\n    /**\r\n     * @description 接收点击关闭控制上按钮的事件\r\n     */\n    handleControlBtnClick: function handleControlBtnClick() {\n      this.closeAll(this);\n    },\n\n    /**\r\n     * @description 接收点击 tab 标签的事件\r\n     */\n    handleClick: function handleClick(tab, event) {\n      // 找到点击的页面在 tag 列表里是哪个\n      var page = this.opened.find(function (page) {\n        return page.name === tab.name;\n      });\n      var name = page.name,\n          params = page.params,\n          query = page.query;\n\n      if (page) {\n        this.$router.push({\n          name: name,\n          params: params,\n          query: query\n        });\n      }\n    },\n\n    /**\r\n     * @description 点击 tab 上的删除按钮触发这里 首页的删除按钮已经隐藏 因此这里不用判断是 index\r\n     */\n    handleTabsEdit: function handleTabsEdit(tagName, action) {\n      if (action === 'remove') {\n        this.close({\n          tagName: tagName,\n          vm: this\n        });\n      }\n    }\n  })\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA,SAAA,QAAA,EAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,aAAA,EAAA;AAAA,aAAA,OAAA,gBAAA,CAAA;AAAA,KADA;AAEA,IAAA,iBAAA,EAAA;AAAA,aAAA,OAAA,2CAAA,CAAA;AAAA;AAFA,GADA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,eAAA,EAAA,KADA;AAEA,MAAA,YAAA,EAAA,CAFA;AAGA,MAAA,YAAA,EAAA,CAHA;AAIA,MAAA,oBAAA,EAAA,CACA;AAAA,QAAA,IAAA,EAAA,cAAA;AAAA,QAAA,KAAA,EAAA,MAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OADA,CAJA;AAOA,MAAA,eAAA,EAAA,CACA;AAAA,QAAA,IAAA,EAAA,YAAA;AAAA,QAAA,KAAA,EAAA,MAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,IAAA,EAAA,aAAA;AAAA,QAAA,KAAA,EAAA,MAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,IAAA,EAAA,OAAA;AAAA,QAAA,KAAA,EAAA,MAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAHA,EAIA;AAAA,QAAA,IAAA,EAAA,cAAA;AAAA,QAAA,KAAA,EAAA,MAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAJA,CAPA;AAaA,MAAA,OAAA,EAAA;AAbA,KAAA;AAeA,GArBA;AAsBA,EAAA,QAAA,oBACA,QAAA,CAAA,cAAA,EAAA,CACA,QADA,EAEA,SAFA,CAAA,CADA,CAtBA;AA4BA,EAAA,OAAA,oBACA,UAAA,CAAA,cAAA,EAAA,CACA,OADA,EAEA,WAFA,EAGA,YAHA,EAIA,YAJA,EAKA,UALA,CAAA,CADA;AAQA;;;AAGA,IAAA,iBAXA,6BAWA,KAXA,EAWA;AACA,UAAA,MAAA,GAAA,KAAA,CAAA,MAAA,CADA,CAEA;;AACA,UAAA,IAAA,GAAA,KAAA;AACA,UAAA,MAAA,CAAA,SAAA,CAAA,OAAA,CAAA,eAAA,IAAA,CAAA,CAAA,EAAA,IAAA,GAAA,IAAA,CAAA,KACA,IAAA,MAAA,CAAA,UAAA,CAAA,SAAA,CAAA,OAAA,CAAA,eAAA,IAAA,CAAA,CAAA,EAAA;AACA,QAAA,MAAA,GAAA,MAAA,CAAA,UAAA;AACA,QAAA,IAAA,GAAA,IAAA;AACA;;AACA,UAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,cAAA;AACA,QAAA,KAAA,CAAA,eAAA;AACA,aAAA,YAAA,GAAA,KAAA,CAAA,OAAA;AACA,aAAA,YAAA,GAAA,KAAA,CAAA,OAAA;AACA,aAAA,OAAA,GAAA,MAAA,CAAA,YAAA,CAAA,eAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACA,aAAA,eAAA,GAAA,IAAA;AACA;AACA,KA5BA;;AA6BA;;;AAGA,IAAA,gBAhCA,4BAgCA,OAhCA,EAgCA;AACA,WAAA,sBAAA,CAAA,OAAA,EAAA,KAAA,OAAA;AACA,KAlCA;;AAmCA;;;AAGA,IAAA,sBAtCA,kCAsCA,OAtCA,EAsCA;AAAA,UAAA,OAAA,uEAAA,IAAA;;AACA,UAAA,OAAA,EAAA;AACA,aAAA,eAAA,GAAA,KAAA;AACA;;AACA,UAAA,MAAA,GAAA;AACA,QAAA,UAAA,EAAA,OADA;AAEA,QAAA,EAAA,EAAA;AAFA,OAAA;;AAIA,cAAA,OAAA;AACA,aAAA,MAAA;AACA,eAAA,SAAA,CAAA,MAAA;AACA;;AACA,aAAA,OAAA;AACA,eAAA,UAAA,CAAA,MAAA;AACA;;AACA,aAAA,OAAA;AACA,eAAA,UAAA,CAAA,MAAA;AACA;;AACA,aAAA,KAAA;AACA,eAAA,QAAA,CAAA,IAAA;AACA;;AACA;AACA,eAAA,QAAA,CAAA,KAAA,CAAA,OAAA;AACA;AAfA;AAiBA,KA/DA;;AAgEA;;;AAGA,IAAA,qBAnEA,mCAmEA;AACA,WAAA,QAAA,CAAA,IAAA;AACA,KArEA;;AAsEA;;;AAGA,IAAA,WAzEA,uBAyEA,GAzEA,EAyEA,KAzEA,EAyEA;AACA;AACA,UAAA,IAAA,GAAA,KAAA,MAAA,CAAA,IAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,IAAA,KAAA,GAAA,CAAA,IAAA;AAAA,OAAA,CAAA;AAFA,UAGA,IAHA,GAGA,IAHA,CAGA,IAHA;AAAA,UAGA,MAHA,GAGA,IAHA,CAGA,MAHA;AAAA,UAGA,KAHA,GAGA,IAHA,CAGA,KAHA;;AAIA,UAAA,IAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA,IAAA;AAAA,UAAA,MAAA,EAAA,MAAA;AAAA,UAAA,KAAA,EAAA;AAAA,SAAA;AACA;AACA,KAhFA;;AAiFA;;;AAGA,IAAA,cApFA,0BAoFA,OApFA,EAoFA,MApFA,EAoFA;AACA,UAAA,MAAA,KAAA,QAAA,EAAA;AACA,aAAA,KAAA,CAAA;AACA,UAAA,OAAA,EAAA,OADA;AAEA,UAAA,EAAA,EAAA;AAFA,SAAA;AAIA;AACA;AA3FA;AA5BA,CAAA","sourcesContent":["<template>\r\n  <div class=\"d2-multiple-page-control-group\" flex>\r\n    <div class=\"d2-multiple-page-control-content\" flex-box=\"1\">\r\n      <div class=\"d2-multiple-page-control-content-inner\">\r\n        <d2-contextmenu\r\n          :visible.sync=\"contextmenuFlag\"\r\n          :x=\"contentmenuX\"\r\n          :y=\"contentmenuY\">\r\n          <d2-contextmenu-list\r\n            :menulist=\"tagName === 'index' ? contextmenuListIndex : contextmenuList\"\r\n            @rowClick=\"contextmenuClick\"/>\r\n        </d2-contextmenu>\r\n        <el-tabs\r\n          class=\"d2-multiple-page-control\"\r\n          :value=\"current\"\r\n          type=\"card\"\r\n          :closable=\"true\"\r\n          @tab-click=\"handleClick\"\r\n          @edit=\"handleTabsEdit\"\r\n          @contextmenu.native=\"handleContextmenu\">\r\n          <el-tab-pane\r\n            v-for=\"(page, index) in opened\"\r\n            :key=\"index\"\r\n            :label=\"page.meta.title || '未命名'\"\r\n            :name=\"page.name\"/>\r\n        </el-tabs>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"d2-multiple-page-control-btn\"\r\n      flex-box=\"0\">\r\n      <el-dropdown\r\n        size=\"default\"\r\n        split-button\r\n        @click=\"handleControlBtnClick\"\r\n        @command=\"command => handleControlItemClick(command)\">\r\n        <d2-icon name=\"times-circle\"/>\r\n        <el-dropdown-menu slot=\"dropdown\">\r\n          <el-dropdown-item command=\"left\">\r\n            <d2-icon name=\"arrow-left\" class=\"d2-mr-10\"/>\r\n            关闭左侧\r\n          </el-dropdown-item>\r\n          <el-dropdown-item command=\"right\">\r\n            <d2-icon name=\"arrow-right\" class=\"d2-mr-10\"/>\r\n            关闭右侧\r\n          </el-dropdown-item>\r\n          <el-dropdown-item command=\"other\">\r\n            <d2-icon name=\"times\" class=\"d2-mr-10\"/>\r\n            关闭其它\r\n          </el-dropdown-item>\r\n          <el-dropdown-item command=\"all\">\r\n            <d2-icon name=\"times-circle\" class=\"d2-mr-10\"/>\r\n            全部关闭\r\n          </el-dropdown-item>\r\n        </el-dropdown-menu>\r\n      </el-dropdown>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from 'vuex'\r\nexport default {\r\n  components: {\r\n    D2Contextmenu: () => import('../contextmenu'),\r\n    D2ContextmenuList: () => import('../contextmenu/components/contentmenuList')\r\n  },\r\n  data () {\r\n    return {\r\n      contextmenuFlag: false,\r\n      contentmenuX: 0,\r\n      contentmenuY: 0,\r\n      contextmenuListIndex: [\r\n        { icon: 'times-circle', title: '关闭全部', value: 'all' }\r\n      ],\r\n      contextmenuList: [\r\n        { icon: 'arrow-left', title: '关闭左侧', value: 'left' },\r\n        { icon: 'arrow-right', title: '关闭右侧', value: 'right' },\r\n        { icon: 'times', title: '关闭其它', value: 'other' },\r\n        { icon: 'times-circle', title: '关闭全部', value: 'all' }\r\n      ],\r\n      tagName: 'index'\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('d2admin/page', [\r\n      'opened',\r\n      'current'\r\n    ])\r\n  },\r\n  methods: {\r\n    ...mapActions('d2admin/page', [\r\n      'close',\r\n      'closeLeft',\r\n      'closeRight',\r\n      'closeOther',\r\n      'closeAll'\r\n    ]),\r\n    /**\r\n     * @description 右键菜单功能点击\r\n     */\r\n    handleContextmenu (event) {\r\n      let target = event.target\r\n      // 解决 https://github.com/d2-projects/d2-admin/issues/54\r\n      let flag = false\r\n      if (target.className.indexOf('el-tabs__item') > -1) flag = true\r\n      else if (target.parentNode.className.indexOf('el-tabs__item') > -1) {\r\n        target = target.parentNode\r\n        flag = true\r\n      }\r\n      if (flag) {\r\n        event.preventDefault()\r\n        event.stopPropagation()\r\n        this.contentmenuX = event.clientX\r\n        this.contentmenuY = event.clientY\r\n        this.tagName = target.getAttribute('aria-controls').slice(5)\r\n        this.contextmenuFlag = true\r\n      }\r\n    },\r\n    /**\r\n     * @description 右键菜单的row-click事件\r\n     */\r\n    contextmenuClick (command) {\r\n      this.handleControlItemClick(command, this.tagName)\r\n    },\r\n    /**\r\n     * @description 接收点击关闭控制上选项的事件\r\n     */\r\n    handleControlItemClick (command, tagName = null) {\r\n      if (tagName) {\r\n        this.contextmenuFlag = false\r\n      }\r\n      const params = {\r\n        pageSelect: tagName,\r\n        vm: this\r\n      }\r\n      switch (command) {\r\n        case 'left':\r\n          this.closeLeft(params)\r\n          break\r\n        case 'right':\r\n          this.closeRight(params)\r\n          break\r\n        case 'other':\r\n          this.closeOther(params)\r\n          break\r\n        case 'all':\r\n          this.closeAll(this)\r\n          break\r\n        default:\r\n          this.$message.error('无效的操作')\r\n          break\r\n      }\r\n    },\r\n    /**\r\n     * @description 接收点击关闭控制上按钮的事件\r\n     */\r\n    handleControlBtnClick () {\r\n      this.closeAll(this)\r\n    },\r\n    /**\r\n     * @description 接收点击 tab 标签的事件\r\n     */\r\n    handleClick (tab, event) {\r\n      // 找到点击的页面在 tag 列表里是哪个\r\n      const page = this.opened.find(page => page.name === tab.name)\r\n      const { name, params, query } = page\r\n      if (page) {\r\n        this.$router.push({ name, params, query })\r\n      }\r\n    },\r\n    /**\r\n     * @description 点击 tab 上的删除按钮触发这里 首页的删除按钮已经隐藏 因此这里不用判断是 index\r\n     */\r\n    handleTabsEdit (tagName, action) {\r\n      if (action === 'remove') {\r\n        this.close({\r\n          tagName,\r\n          vm: this\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src\\layouts\\HeaderAside\\components\\tabs"}]}