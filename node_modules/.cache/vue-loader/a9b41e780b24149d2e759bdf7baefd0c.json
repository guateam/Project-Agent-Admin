{"remainingRequest":"D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\src\\layouts\\HeaderAside\\components\\header-size\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\src\\layouts\\HeaderAside\\components\\header-size\\index.vue","mtime":1547717291725},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1547717212861},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1547717208828},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1547717212861},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1547717286390}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { mapState, mapMutations, mapActions } from 'vuex'\r\nexport default {\r\n  name: 'd2-header-size',\r\n  computed: {\r\n    ...mapState('d2admin/size', [\r\n      'value'\r\n    ])\r\n  },\r\n  watch: {\r\n    // 注意 这里是关键\r\n    // 因为需要访问 this.$ELEMENT 所以只能在这里使用这种方式\r\n    value: {\r\n      handler (val, oldVal) {\r\n        // https://github.com/d2-projects/d2-admin/pull/129\r\n        if (oldVal) {\r\n          // 这个情况在已经加载完页面 用户改变了尺寸时触发\r\n          this.$ELEMENT.size = val\r\n          // 由于已经加载过设置 需要清空缓存设置\r\n          this.pageKeepAliveClean()\r\n          // 由于已经加载过设置 需要刷新此页面\r\n          this.$router.replace('/refresh')\r\n        } else {\r\n          // 这个情况在刷新页面时触发\r\n          this.$ELEMENT.size = val\r\n        }\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      pageKeepAliveClean: 'd2admin/page/keepAliveClean'\r\n    }),\r\n    ...mapActions({\r\n      sizeSet: 'd2admin/size/set'\r\n    }),\r\n    handleChange (value) {\r\n      this.sizeSet(value)\r\n    },\r\n    iconName (name) {\r\n      return name === this.value ? 'dot-circle-o' : 'circle-o'\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src\\layouts\\HeaderAside\\components\\header-size","sourcesContent":["<template>\r\n  <el-dropdown placement=\"bottom\" size=\"small\" @command=\"handleChange\">\r\n    <el-button class=\"d2-mr btn-text can-hover\" type=\"text\">\r\n      <d2-icon name=\"font\" style=\"font-size: 16px;\"/>\r\n    </el-button>\r\n    <el-dropdown-menu slot=\"dropdown\">\r\n      <el-dropdown-item command=\"default\">\r\n        <d2-icon :name=\"iconName('default')\" class=\"d2-mr-5\"/>默认\r\n      </el-dropdown-item>\r\n      <el-dropdown-item command=\"medium\">\r\n        <d2-icon :name=\"iconName('medium')\" class=\"d2-mr-5\"/>中\r\n      </el-dropdown-item>\r\n      <el-dropdown-item command=\"small\">\r\n        <d2-icon :name=\"iconName('small')\" class=\"d2-mr-5\"/>小\r\n      </el-dropdown-item>\r\n      <el-dropdown-item command=\"mini\">\r\n        <d2-icon :name=\"iconName('mini')\" class=\"d2-mr-5\"/>最小\r\n      </el-dropdown-item>\r\n    </el-dropdown-menu>\r\n  </el-dropdown>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations, mapActions } from 'vuex'\r\nexport default {\r\n  name: 'd2-header-size',\r\n  computed: {\r\n    ...mapState('d2admin/size', [\r\n      'value'\r\n    ])\r\n  },\r\n  watch: {\r\n    // 注意 这里是关键\r\n    // 因为需要访问 this.$ELEMENT 所以只能在这里使用这种方式\r\n    value: {\r\n      handler (val, oldVal) {\r\n        // https://github.com/d2-projects/d2-admin/pull/129\r\n        if (oldVal) {\r\n          // 这个情况在已经加载完页面 用户改变了尺寸时触发\r\n          this.$ELEMENT.size = val\r\n          // 由于已经加载过设置 需要清空缓存设置\r\n          this.pageKeepAliveClean()\r\n          // 由于已经加载过设置 需要刷新此页面\r\n          this.$router.replace('/refresh')\r\n        } else {\r\n          // 这个情况在刷新页面时触发\r\n          this.$ELEMENT.size = val\r\n        }\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      pageKeepAliveClean: 'd2admin/page/keepAliveClean'\r\n    }),\r\n    ...mapActions({\r\n      sizeSet: 'd2admin/size/set'\r\n    }),\r\n    handleChange (value) {\r\n      this.sizeSet(value)\r\n    },\r\n    iconName (name) {\r\n      return name === this.value ? 'dot-circle-o' : 'circle-o'\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}