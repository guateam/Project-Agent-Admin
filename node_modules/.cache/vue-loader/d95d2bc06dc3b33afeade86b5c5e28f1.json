{"remainingRequest":"D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\src\\layouts\\HeaderAside\\components\\menu-side\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\src\\layouts\\HeaderAside\\components\\menu-side\\index.vue","mtime":1547717291745},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1547717212861},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1547717208828},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1547717212861},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\Project-Agent-Admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1547717286390}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { mapState } from 'vuex'\r\nimport menuMixin from '../mixin/menu'\r\nimport d2LayoutMainMenuItem from '../components/menu-item/index.vue'\r\nimport d2LayoutMainMenuSub from '../components/menu-sub/index.vue'\r\nimport BScroll from 'better-scroll'\r\nexport default {\r\n  name: 'd2-layout-header-aside-menu-side',\r\n  mixins: [\r\n    menuMixin\r\n  ],\r\n  components: {\r\n    'd2-layout-header-aside-menu-item': d2LayoutMainMenuItem,\r\n    'd2-layout-header-aside-menu-sub': d2LayoutMainMenuSub\r\n  },\r\n  data () {\r\n    return {\r\n      active: '',\r\n      asideHeight: 300,\r\n      BS: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('d2admin/menu', [\r\n      'aside',\r\n      'asideCollapse'\r\n    ])\r\n  },\r\n  watch: {\r\n    // 折叠和展开菜单的时候销毁 better scroll\r\n    asideCollapse (val) {\r\n      this.scrollDestroy()\r\n      setTimeout(() => {\r\n        this.scrollInit()\r\n      }, 500)\r\n    },\r\n    // 监听路由 控制侧边栏激活状态\r\n    '$route.matched': {\r\n      handler (val) {\r\n        this.active = val[val.length - 1].path\r\n        this.$nextTick(() => {\r\n          if (this.aside.length > 0 && this.$refs.menu) {\r\n            this.$refs.menu.activeIndex = this.active\r\n          }\r\n        })\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  mounted () {\r\n    this.scrollInit()\r\n  },\r\n  beforeDestroy () {\r\n    this.scrollDestroy()\r\n  },\r\n  methods: {\r\n    scrollInit () {\r\n      this.BS = new BScroll(this.$el, {\r\n        mouseWheel: true\r\n        // 如果你愿意可以打开显示滚动条\r\n        // scrollbar: {\r\n        //   fade: true,\r\n        //   interactive: false\r\n        // }\r\n      })\r\n    },\r\n    scrollDestroy () {\r\n      // https://github.com/d2-projects/d2-admin/issues/75\r\n      try {\r\n        this.BS.destroy()\r\n      } catch (e) {\r\n        delete this.BS\r\n        this.BS = null\r\n      }\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src\\layouts\\HeaderAside\\components\\menu-side","sourcesContent":["<template>\r\n  <div class=\"d2-layout-header-aside-menu-side\">\r\n    <el-menu\r\n      :collapse=\"asideCollapse\"\r\n      :unique-opened=\"true\"\r\n      :default-active=\"active\"\r\n      ref=\"menu\"\r\n      @select=\"handleMenuSelect\">\r\n      <template v-for=\"(menu, menuIndex) in aside\">\r\n        <d2-layout-header-aside-menu-item v-if=\"menu.children === undefined\" :menu=\"menu\" :key=\"menuIndex\"/>\r\n        <d2-layout-header-aside-menu-sub v-else :menu=\"menu\" :key=\"menuIndex\"/>\r\n      </template>\r\n    </el-menu>\r\n    <div v-if=\"aside.length === 0 && !asideCollapse\" class=\"d2-layout-header-aside-menu-empty\" flex=\"dir:top main:center cross:center\">\r\n      <d2-icon name=\"inbox\"/>\r\n      <span>没有侧栏菜单</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport menuMixin from '../mixin/menu'\r\nimport d2LayoutMainMenuItem from '../components/menu-item/index.vue'\r\nimport d2LayoutMainMenuSub from '../components/menu-sub/index.vue'\r\nimport BScroll from 'better-scroll'\r\nexport default {\r\n  name: 'd2-layout-header-aside-menu-side',\r\n  mixins: [\r\n    menuMixin\r\n  ],\r\n  components: {\r\n    'd2-layout-header-aside-menu-item': d2LayoutMainMenuItem,\r\n    'd2-layout-header-aside-menu-sub': d2LayoutMainMenuSub\r\n  },\r\n  data () {\r\n    return {\r\n      active: '',\r\n      asideHeight: 300,\r\n      BS: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('d2admin/menu', [\r\n      'aside',\r\n      'asideCollapse'\r\n    ])\r\n  },\r\n  watch: {\r\n    // 折叠和展开菜单的时候销毁 better scroll\r\n    asideCollapse (val) {\r\n      this.scrollDestroy()\r\n      setTimeout(() => {\r\n        this.scrollInit()\r\n      }, 500)\r\n    },\r\n    // 监听路由 控制侧边栏激活状态\r\n    '$route.matched': {\r\n      handler (val) {\r\n        this.active = val[val.length - 1].path\r\n        this.$nextTick(() => {\r\n          if (this.aside.length > 0 && this.$refs.menu) {\r\n            this.$refs.menu.activeIndex = this.active\r\n          }\r\n        })\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  mounted () {\r\n    this.scrollInit()\r\n  },\r\n  beforeDestroy () {\r\n    this.scrollDestroy()\r\n  },\r\n  methods: {\r\n    scrollInit () {\r\n      this.BS = new BScroll(this.$el, {\r\n        mouseWheel: true\r\n        // 如果你愿意可以打开显示滚动条\r\n        // scrollbar: {\r\n        //   fade: true,\r\n        //   interactive: false\r\n        // }\r\n      })\r\n    },\r\n    scrollDestroy () {\r\n      // https://github.com/d2-projects/d2-admin/issues/75\r\n      try {\r\n        this.BS.destroy()\r\n      } catch (e) {\r\n        delete this.BS\r\n        this.BS = null\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}